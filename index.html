<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JAMB Mock System - Nigeria's Premier Exam Preparation Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="config.js"></script>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Navigation Header -->
    <nav class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-8">
                    <div class="flex-shrink-0 flex items-center">
                        <i class="fas fa-graduation-cap text-2xl text-primary-600 mr-2"></i>
                        <span class="text-xl font-bold text-gray-900">JambGenius ðŸ’¯</span>
                    </div>
                    <div class="hidden md:flex items-center space-x-8">
                        <a href="#home" class="text-gray-700 hover:text-primary-600 font-medium transition-colors">Home</a>
                        <a href="#practice" class="text-gray-700 hover:text-primary-600 font-medium transition-colors">Practice</a>
                        <a href="analytics.html" class="text-gray-700 hover:text-primary-600 font-medium transition-colors">Analytics</a>
                        <a href="daily-challenge.html" class="text-gray-700 hover:text-primary-600 font-medium transition-colors">
                            <i class="fas fa-trophy mr-1"></i>Daily Challenge
                        </a>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="#exam" class="hidden md:block bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-2 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all font-bold shadow-lg hover:shadow-xl transform hover:scale-105">
                        <i class="fas fa-trophy mr-2"></i>Take Mock Exam
                    </a>
                    <div id="userInfo" class="hidden items-center space-x-3">
                        <img id="userAvatar" src="" alt="User" class="w-8 h-8 rounded-full">
                        <span id="userName" class="text-gray-700 font-medium"></span>
                        <button id="signOutBtn" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                    <button id="signInBtn" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors font-medium">
                        Sign In
                    </button>
                    <button id="mobileMenuBtn" class="md:hidden text-gray-700 hover:text-primary-600">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden md:hidden bg-white border-t border-gray-200">
            <div class="px-4 py-3 space-y-3">
                <a href="#home" class="block text-gray-700 hover:text-primary-600 font-medium py-2">
                    <i class="fas fa-home mr-2"></i>Home
                </a>
                <a href="#practice" class="block text-gray-700 hover:text-primary-600 font-medium py-2">
                    <i class="fas fa-book mr-2"></i>Practice
                </a>
                <a href="analytics.html" class="block text-gray-700 hover:text-primary-600 font-medium py-2">
                    <i class="fas fa-chart-line mr-2"></i>Analytics
                </a>
                <a href="daily-challenge.html" class="block text-orange-600 hover:text-orange-700 font-bold py-2 bg-orange-50 rounded-lg px-3">
                    <i class="fas fa-trophy mr-2"></i>ðŸ”¥ Daily Challenge
                </a>
                <a href="#exam" class="block bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all font-bold text-center">
                    <i class="fas fa-trophy mr-2"></i>Take Mock Exam
                </a>
            </div>
        </div>
    </nav>

    <!-- Auth Modal -->
    <div id="authModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative">
            <button id="closeAuthModal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <!-- Sign In Form -->
            <div id="signInForm">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Welcome Back!</h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input id="signInEmail" type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent" placeholder="your@email.com">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input id="signInPassword" type="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                    </div>
                    <button id="forgotPasswordLink" class="text-sm text-primary-600 hover:text-primary-700">Forgot password?</button>
                </div>

                <button id="emailSignInBtn" class="w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold mt-6">
                    Sign In
                </button>

                <div class="relative my-6">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-white text-gray-500">Or continue with</span>
                    </div>
                </div>

                <button id="googleSignIn" class="w-full bg-white border-2 border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors font-semibold flex items-center justify-center">
                    <i class="fab fa-google mr-2 text-red-500"></i>
                    Sign in with Google
                </button>

                <p class="mt-6 text-center text-sm text-gray-600">
                    Don't have an account? 
                    <button id="showSignUpForm" class="text-primary-600 hover:text-primary-700 font-semibold">Sign up</button>
                </p>
            </div>

            <!-- Sign Up Form -->
            <div id="signUpForm" class="hidden">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Create Account</h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input id="signUpName" type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent" placeholder="John Doe">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input id="signUpEmail" type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent" placeholder="your@email.com">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input id="signUpPassword" type="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                        <p class="text-xs text-gray-500 mt-1">At least 6 characters</p>
                    </div>
                    <div class="flex items-start">
                        <input id="agreeToTerms" type="checkbox" class="mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded">
                        <label for="agreeToTerms" class="ml-2 text-sm text-gray-700">
                            I agree to the <a href="terms-of-service.html" target="_blank" class="text-primary-600 hover:text-primary-700 font-semibold">Terms of Service</a> and <a href="privacy-policy.html" target="_blank" class="text-primary-600 hover:text-primary-700 font-semibold">Privacy Policy</a>
                        </label>
                    </div>
                </div>

                <button id="emailSignUpBtn" class="w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold mt-6">
                    Create Account
                </button>

                <div class="relative my-6">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-white text-gray-500">Or sign up with</span>
                    </div>
                </div>

                <button id="googleSignUpBtn" class="w-full bg-white border-2 border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors font-semibold flex items-center justify-center">
                    <i class="fab fa-google mr-2 text-red-500"></i>
                    Sign up with Google
                </button>

                <p class="mt-6 text-center text-sm text-gray-600">
                    Already have an account? 
                    <button id="showSignInForm" class="text-primary-600 hover:text-primary-700 font-semibold">Sign in</button>
                </p>
            </div>

            <!-- Forgot Password Form -->
            <div id="forgotPasswordForm" class="hidden">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Reset Password</h2>
                <p class="text-gray-600 mb-6">Enter your email address and we'll send you a link to reset your password.</p>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input id="resetEmail" type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent" placeholder="your@email.com">
                    </div>
                </div>

                <button id="sendResetEmailBtn" class="w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold mt-6">
                    Send Reset Link
                </button>

                <p class="mt-6 text-center text-sm text-gray-600">
                    Remember your password? 
                    <button id="backToSignIn" class="text-primary-600 hover:text-primary-700 font-semibold">Sign in</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="home" class="bg-gradient-to-br from-primary-50 to-blue-100 py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h1 class="text-4xl lg:text-5xl font-bold text-gray-900 mb-6">
                        Master Your <span class="text-primary-600">JAMB UTME</span> with Nigeria's #1 Mock Platform
                    </h1>
                    <p class="text-xl text-gray-600 mb-8">
                        Practice with authentic questions, take timed exams, and track your progress. Join thousands of students achieving their university dreams.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4">
                      <button id="start-practice" class="bg-white border-2 border-primary-600 text-primary-600 px-8 py-4 rounded-lg hover:bg-primary-50 transition-colors font-semibold text-lg">
                        <i class="fas fa-book-open mr-2"></i>Start Free Practice
                      </button>
                      <button id="take-mock-exam" class="bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 relative overflow-hidden">
                        <span class="absolute top-0 right-0 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-bl-lg">â‚¦1,000</span>
                        <i class="fas fa-trophy mr-2"></i>Take Mock Exam
                      </button>
                    </div>
                </div>
                <div class="relative">
                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&h=600" alt="Students studying together" class="rounded-2xl shadow-2xl">
                    <div class="absolute -bottom-6 -left-6 bg-white p-6 rounded-xl shadow-lg">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-check text-green-600 text-xl"></i>
                            </div>
                            <div>
                                <div class="font-semibold text-gray-900">Real JAMB Format</div>
                                <div class="text-sm text-gray-600">180 Questions â€¢ 2 Hours</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Mode Selection Dashboard -->
    <section id="dashboard" class="py-16 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Choose Your Study Mode</h2>
                <p class="text-lg text-gray-600">Practice freely or take a full mock exam experience</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Practice Mode Card -->
                <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-8 border border-green-100 hover:shadow-lg transition-shadow">
                    <div class="flex items-center mb-6">
                        <div class="w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-book-open text-white text-xl"></i>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold text-gray-900">Practice Mode</h3>
                            <span class="bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full">FREE</span>
                        </div>
                    </div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center text-gray-700">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            100 questions per subject
                        </li>
                        <li class="flex items-center text-gray-700">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            Detailed explanations
                        </li>
                        <li class="flex items-center text-gray-700">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            Immediate feedback
                        </li>
                        <li class="flex items-center text-gray-700">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            No time pressure
                        </li>
                    </ul>
                    <button id="startPracticeBtn" class="w-full bg-green-500 text-white py-3 rounded-xl hover:bg-green-600 transition-colors font-semibold">
                        Start Practice
                    </button>
                </div>

                <!-- Exam Mode Card -->
                <div class="bg-gradient-to-br from-orange-50 to-red-50 rounded-2xl p-8 border-2 border-orange-200 hover:shadow-2xl transition-all transform hover:scale-105 relative">
                    <div class="absolute -top-3 -right-3 bg-yellow-400 text-black text-sm font-bold px-4 py-2 rounded-lg shadow-lg transform rotate-12">
                        â‚¦1,000
                    </div>
                    <div class="flex items-center mb-6">
                        <div class="w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-trophy text-white text-xl"></i>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold text-gray-900">Mock Exam Mode</h3>
                            <span class="bg-orange-100 text-orange-800 text-sm font-medium px-3 py-1 rounded-full">PREMIUM - UNLOCK NOW</span>
                        </div>
                    </div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center text-gray-700">
                            <i class="fas fa-check text-orange-500 mr-3"></i>
                            Full JAMB simulation (180 questions)
                        </li>
                        <li class="flex items-center text-gray-700">
                            <i class="fas fa-check text-orange-500 mr-3"></i>
                            2-hour timed exam
                        </li>
                        <li class="flex items-center text-gray-700">
                            <i class="fas fa-check text-orange-500 mr-3"></i>
                            Real CBT interface
                        </li>
                        <li class="flex items-center text-gray-700">
                            <i class="fas fa-check text-orange-500 mr-3"></i>
                            Performance analytics
                        </li>
                        <li class="flex items-center text-gray-700">
                            <i class="fas fa-check text-orange-500 mr-3"></i>
                            Detailed score report
                        </li>
                    </ul>
                    <button id="startExamBtn" class="w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-xl hover:from-orange-600 hover:to-red-600 transition-all font-bold shadow-lg hover:shadow-xl text-lg">
                        <i class="fas fa-rocket mr-2"></i>Unlock Mock Exam - â‚¦1,000
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Practice Mode Interface -->
    <section id="practiceInterface" class="hidden py-8 bg-gray-50 min-h-screen">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Subject Selection -->
            <div id="subjectSelection" class="bg-white rounded-xl shadow-sm p-8 mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Select a Subject to Practice</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <button class="subject-btn p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all text-left" data-subject="english">
                        <div class="flex items-center">
                            <i class="fas fa-language text-primary-600 text-xl mr-3"></i>
                            <div>
                                <div class="font-semibold text-gray-900">Use of English</div>
                                <div class="text-sm text-gray-500">100 Questions</div>
                            </div>
                        </div>
                    </button>
                    <button class="subject-btn p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all text-left" data-subject="mathematics">
                        <div class="flex items-center">
                            <i class="fas fa-calculator text-primary-600 text-xl mr-3"></i>
                            <div>
                                <div class="font-semibold text-gray-900">Mathematics</div>
                                <div class="text-sm text-gray-500">100 Questions</div>
                            </div>
                        </div>
                    </button>
                    <button class="subject-btn p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all text-left" data-subject="physics">
                        <div class="flex items-center">
                            <i class="fas fa-atom text-primary-600 text-xl mr-3"></i>
                            <div>
                                <div class="font-semibold text-gray-900">Physics</div>
                                <div class="text-sm text-gray-500">100 Questions</div>
                            </div>
                        </div>
                    </button>
                    <button class="subject-btn p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all text-left" data-subject="chemistry">
                        <div class="flex items-center">
                            <i class="fas fa-flask text-primary-600 text-xl mr-3"></i>
                            <div>
                                <div class="font-semibold text-gray-900">Chemistry</div>
                                <div class="text-sm text-gray-500">100 Questions</div>
                            </div>
                        </div>
                    </button>
                    <button class="subject-btn p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all text-left" data-subject="biology">
                        <div class="flex items-center">
                            <i class="fas fa-leaf text-primary-600 text-xl mr-3"></i>
                            <div>
                                <div class="font-semibold text-gray-900">Biology</div>
                                <div class="text-sm text-gray-500">100 Questions</div>
                            </div>
                        </div>
                    </button>
                    <button class="subject-btn p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all text-left" data-subject="government">
                        <div class="flex items-center">
                            <i class="fas fa-university text-primary-600 text-xl mr-3"></i>
                            <div>
                                <div class="font-semibold text-gray-900">Government</div>
                                <div class="text-sm text-gray-500">100 Questions</div>
                            </div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Practice Question Interface -->
            <div id="practiceQuestions" class="hidden">
                <div class="bg-white rounded-xl shadow-sm mb-6">
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex justify-between items-center">
                            <div>
                                <h3 id="currentSubject" class="text-xl font-bold text-gray-900">Practice</h3>
                                <p class="text-gray-600">Question <span id="currentQuestionNum">1</span> of 100</p>
                            </div>
                            <div class="flex items-center space-x-4">
                                <div class="text-sm text-gray-600">
                                    Progress: <span id="practiceProgress" class="font-semibold">1%</span>
                                </div>
                                <button id="exitPractice" class="text-gray-500 hover:text-gray-700">
                                    <i class="fas fa-times text-xl"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div id="practiceProgressBar" class="bg-primary-600 h-2 rounded-full transition-all duration-300" style="width: 1%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div id="questionText" class="text-lg text-gray-900 mb-6">
                            Which of the following sentences is grammatically correct?
                        </div>
                        
                        <div class="space-y-3">
                            <label class="flex items-start p-4 border-2 border-gray-200 rounded-lg hover:border-primary-300 cursor-pointer transition-colors">
                                <input type="radio" name="answer" value="A" class="mt-1 mr-4 text-primary-600">
                                <div class="flex-1">
                                    <span class="font-medium text-gray-900 mr-2">A.</span>
                                    <span class="text-gray-800">The students has completed their assignments.</span>
                                </div>
                            </label>
                            <label class="flex items-start p-4 border-2 border-gray-200 rounded-lg hover:border-primary-300 cursor-pointer transition-colors">
                                <input type="radio" name="answer" value="B" class="mt-1 mr-4 text-primary-600">
                                <div class="flex-1">
                                    <span class="font-medium text-gray-900 mr-2">B.</span>
                                    <span class="text-gray-800">The students have completed their assignments.</span>
                                </div>
                            </label>
                            <label class="flex items-start p-4 border-2 border-gray-200 rounded-lg hover:border-primary-300 cursor-pointer transition-colors">
                                <input type="radio" name="answer" value="C" class="mt-1 mr-4 text-primary-600">
                                <div class="flex-1">
                                    <span class="font-medium text-gray-900 mr-2">C.</span>
                                    <span class="text-gray-800">The student have completed his assignments.</span>
                                </div>
                            </label>
                            <label class="flex items-start p-4 border-2 border-gray-200 rounded-lg hover:border-primary-300 cursor-pointer transition-colors">
                                <input type="radio" name="answer" value="D" class="mt-1 mr-4 text-primary-600">
                                <div class="flex-1">
                                    <span class="font-medium text-gray-900 mr-2">D.</span>
                                    <span class="text-gray-800">The students has complete their assignments.</span>
                                </div>
                            </label>
                        </div>

                        <div class="mt-6 flex justify-between">
                            <button id="prevQuestion" class="flex items-center px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                                <i class="fas fa-chevron-left mr-2"></i>
                                Previous
                            </button>
                            <div class="flex space-x-3">
                                <button id="submitAnswer" class="bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors">
                                    Submit Answer
                                </button>
                                <button id="nextQuestion" class="flex items-center px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                                    Next
                                    <i class="fas fa-chevron-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Answer Explanation -->
                <div id="answerExplanation" class="hidden bg-green-50 border border-green-200 rounded-xl p-6">
                    <div class="flex items-start">
                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-4 mt-1">
                            <i class="fas fa-check text-white text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-green-900 mb-2">Correct Answer: B</h4>
                            <p class="text-green-800">
                                The correct answer is B. "Students" is plural, so it requires the plural verb "have" rather than "has". Subject-verb agreement is fundamental in English grammar.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Exam Mode Interface -->
    <section id="examInterface" class="hidden py-8 bg-gray-900 min-h-screen text-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Exam Header -->
            <div class="bg-gray-800 rounded-xl p-6 mb-6">
                <div class="flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold mb-2">JAMB UTME Mock Examination</h2>
                        <p class="text-gray-300">180 Questions â€¢ 4 Subjects â€¢ Total Score: 400 marks</p>
                    </div>
                    <div class="text-right">
                        <div class="text-3xl font-bold text-red-400" id="examTimer">02:00:00</div>
                        <div class="text-sm text-gray-400">Time Remaining</div>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="flex justify-between text-sm text-gray-400 mb-2">
                        <span>Progress</span>
                        <span><span id="examProgress">1</span>/180 Questions</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2">
                        <div id="examProgressBar" class="bg-primary-500 h-2 rounded-full transition-all duration-300" style="width: 0.56%"></div>
                    </div>
                </div>
            </div>

            <div class="bg-gray-800 rounded-xl p-8">
                <div class="text-center py-12">
                    <i class="fas fa-clock text-6xl text-primary-500 mb-6"></i>
                    <h3 class="text-2xl font-bold mb-4">Exam Mode</h3>
                    <p class="text-gray-300 mb-8">This feature requires authentication. Please sign in to access the full exam mode.</p>
                    <button id="examSignIn" class="bg-primary-600 text-white px-8 py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold">
                        Sign In to Start Exam
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Performance Analytics -->
    <section id="analytics" class="py-16 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Your Performance Analytics</h2>
                <p class="text-lg text-gray-600">Track your progress and identify areas for improvement</p>
            </div>

            <!-- Loading State -->
            <div id="analyticsLoading" class="hidden text-center py-12">
                <i class="fas fa-spinner fa-spin text-6xl text-primary-500 mb-6"></i>
                <p class="text-gray-600">Loading your analytics...</p>
            </div>

            <!-- Analytics Content -->
            <div id="analyticsContent" class="hidden">
                <!-- Stats Overview -->
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="text-gray-700 font-medium">Total Exams</h3>
                            <i class="fas fa-file-alt text-blue-600 text-2xl"></i>
                        </div>
                        <p class="text-3xl font-bold text-gray-900" id="totalExams">0</p>
                    </div>
                    <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="text-gray-700 font-medium">Average Score</h3>
                            <i class="fas fa-chart-line text-green-600 text-2xl"></i>
                        </div>
                        <p class="text-3xl font-bold text-gray-900" id="averageScore">0</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="text-gray-700 font-medium">Best Score</h3>
                            <i class="fas fa-trophy text-purple-600 text-2xl"></i>
                        </div>
                        <p class="text-3xl font-bold text-gray-900" id="bestScore">0</p>
                    </div>
                </div>

                <!-- Recent Attempts -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="p-6 border-b border-gray-200">
                        <h3 class="text-xl font-bold text-gray-900">Recent Attempts</h3>
                    </div>
                    <div id="recentAttempts" class="divide-y divide-gray-200">
                        <!-- Attempts will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Empty State -->
            <div id="analyticsEmpty" class="hidden text-center py-12">
                <i class="fas fa-chart-line text-6xl text-gray-300 mb-6"></i>
                <h3 class="text-2xl font-bold text-gray-900 mb-4">No Exam History Yet</h3>
                <p class="text-gray-600 mb-8">Take your first exam to see your performance analytics here.</p>
                <button id="startFirstExam" class="bg-primary-600 text-white px-8 py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold">
                    Take Your First Exam
                </button>
            </div>

            <!-- Sign In Required -->
            <div id="analyticsSignInRequired" class="text-center py-12">
                <i class="fas fa-chart-line text-6xl text-primary-500 mb-6"></i>
                <h3 class="text-2xl font-bold text-gray-900 mb-4">Sign In to View Analytics</h3>
                <p class="text-gray-600 mb-8">Track your performance, view detailed statistics, and monitor your progress over time.</p>
                <button id="analyticsSignIn" class="bg-primary-600 text-white px-8 py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold">
                    Sign In
                </button>
            </div>
        </div>
    </section>

    <!-- Community Chat Section -->
    <section class="py-16 bg-gradient-to-r from-blue-600 to-purple-600">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-2xl shadow-2xl overflow-hidden">
                <div class="grid md:grid-cols-2 gap-0">
                    <div class="p-8 md:p-12 flex flex-col justify-center">
                        <div class="inline-flex items-center bg-blue-100 text-blue-700 px-4 py-2 rounded-full mb-4 w-fit">
                            <i class="fas fa-comments mr-2"></i>
                            <span class="font-semibold">New Feature!</span>
                        </div>
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">ðŸ’¬ Join Our Community Chat</h2>
                        <p class="text-lg text-gray-600 mb-6">Connect with thousands of JAMB candidates just like you! Ask questions, share study tips, motivate each other, and celebrate your wins together.</p>
                        <div class="space-y-3 mb-8">
                            <div class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                                <p class="text-gray-700">Get instant help from fellow students</p>
                            </div>
                            <div class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                                <p class="text-gray-700">Share and discover study resources</p>
                            </div>
                            <div class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                                <p class="text-gray-700">Stay motivated with exam preparation partners</p>
                            </div>
                        </div>
                        <a href="chatroom.html" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all font-bold text-center shadow-lg hover:shadow-xl transform hover:scale-105 inline-block">
                            <i class="fas fa-comments mr-2"></i>Enter Community Chat
                        </a>
                    </div>
                    <div class="bg-gradient-to-br from-blue-50 to-purple-50 p-8 md:p-12 flex items-center justify-center">
                        <div class="space-y-4 w-full">
                            <div class="bg-white rounded-lg p-4 shadow-md transform -rotate-2">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">AO</div>
                                    <span class="ml-2 font-semibold text-gray-900">Ada</span>
                                </div>
                                <p class="text-gray-700">"Just scored 310! Thanks for the math tips ðŸŽ‰"</p>
                            </div>
                            <div class="bg-white rounded-lg p-4 shadow-md transform rotate-1">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm">CM</div>
                                    <span class="ml-2 font-semibold text-gray-900">Chidi</span>
                                </div>
                                <p class="text-gray-700">"Who else is writing JAMB next month? Let's study together! ðŸ“š"</p>
                            </div>
                            <div class="bg-white rounded-lg p-4 shadow-md transform -rotate-1">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm">FN</div>
                                    <span class="ml-2 font-semibold text-gray-900">Funmi</span>
                                </div>
                                <p class="text-gray-700">"Can anyone explain this physics question? ðŸ¤”"</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Why Choose JambGenius ðŸ’¯?</h2>
                <p class="text-lg text-gray-600">Everything you need to excel in your JAMB UTME</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-question-circle text-primary-600 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Authentic Questions</h3>
                    <p class="text-gray-600">Practice with real JAMB-style questions covering all major subjects</p>
                </div>
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-clock text-green-600 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Timed Exams</h3>
                    <p class="text-gray-600">Experience the real exam pressure with our 2-hour timed mock tests</p>
                </div>
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-chart-bar text-purple-600 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Performance Tracking</h3>
                    <p class="text-gray-600">Monitor your progress with detailed analytics and identify weak areas</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <i class="fas fa-graduation-cap text-2xl text-primary-500 mr-2"></i>
                        <span class="text-xl font-bold">JambGenius ðŸ’¯</span>
                    </div>
                    <p class="text-gray-400">Nigeria's premier JAMB UTME preparation platform</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#home" class="hover:text-white">Home</a></li>
                        <li><a href="#practice" class="hover:text-white">Practice</a></li>
                        <li><a href="#exam" class="hover:text-white">Exam Mode</a></li>
                        <li><a href="#analytics" class="hover:text-white">Analytics</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Resources</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="jamb-syllabus.html" class="hover:text-white">JAMB Syllabus</a></li>
                        <li><a href="study-tips.html" class="hover:text-white">Study Tips</a></li>
                        <li><a href="help-center.html" class="hover:text-white">Help Center</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Contact</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="contact-us.html" class="hover:text-white">Contact Us</a></li>
                        <li><a href="#" class="hover:text-white">Support</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 JambGenius. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInWithPopup, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendPasswordResetEmail, signOut, onAuthStateChanged, GoogleAuthProvider, updateProfile } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, collection, doc, setDoc, getDoc, getDocs, query, where, orderBy, limit, updateDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        const app = initializeApp(CONFIG.firebase);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();

        // Global state
        let currentUser = null;
        let currentSubject = null;
        let currentQuestion = 1;
        let totalQuestions = 100;
        let examTimeRemaining = 7200; // 2 hours in seconds

        // DOM Elements
        const elements = {
            authModal: document.getElementById('authModal'),
            signInForm: document.getElementById('signInForm'),
            signUpForm: document.getElementById('signUpForm'),
            forgotPasswordForm: document.getElementById('forgotPasswordForm'),
            closeAuthModal: document.getElementById('closeAuthModal'),
            signInBtn: document.getElementById('signInBtn'),
            signOutBtn: document.getElementById('signOutBtn'),
            userInfo: document.getElementById('userInfo'),
            userName: document.getElementById('userName'),
            userAvatar: document.getElementById('userAvatar'),
            googleSignIn: document.getElementById('googleSignIn'),
            googleSignUpBtn: document.getElementById('googleSignUpBtn'),
            emailSignInBtn: document.getElementById('emailSignInBtn'),
            emailSignUpBtn: document.getElementById('emailSignUpBtn'),
            sendResetEmailBtn: document.getElementById('sendResetEmailBtn'),
            showSignUpForm: document.getElementById('showSignUpForm'),
            showSignInForm: document.getElementById('showSignInForm'),
            forgotPasswordLink: document.getElementById('forgotPasswordLink'),
            backToSignIn: document.getElementById('backToSignIn'),
            subjectSelection: document.getElementById('subjectSelection'),
            practiceQuestions: document.getElementById('practiceQuestions'),
            currentSubject: document.getElementById('currentSubject'),
            currentQuestionNum: document.getElementById('currentQuestionNum'),
            practiceProgress: document.getElementById('practiceProgress'),
            practiceProgressBar: document.getElementById('practiceProgressBar'),
            answerExplanation: document.getElementById('answerExplanation'),
            examTimer: document.getElementById('examTimer'),
            analyticsContent: document.getElementById('analyticsContent'),
            analyticsLoading: document.getElementById('analyticsLoading'),
            analyticsEmpty: document.getElementById('analyticsEmpty'),
            analyticsSignInRequired: document.getElementById('analyticsSignInRequired')
        };

        const sections = {
            home: document.getElementById('home'),
            dashboard: document.getElementById('dashboard'),
            practiceInterface: document.getElementById('practiceInterface'),
            examInterface: document.getElementById('examInterface'),
            analytics: document.getElementById('analytics')
        };

        // Auth State Observer
        onAuthStateChanged(auth, async (user) => {
            currentUser = user;
            if (user) {
                elements.userInfo.classList.remove('hidden');
                elements.userInfo.classList.add('flex');
                elements.signInBtn.classList.add('hidden');
                elements.userName.textContent = user.displayName || user.email.split('@')[0];
                elements.userAvatar.src = user.photoURL || `https://ui-avatars.com/api/?name=${encodeURIComponent(user.displayName || user.email)}&background=2563eb&color=fff`;
                
                // Create or update user document
                await createUserDocument(user);
            } else {
                elements.userInfo.classList.add('hidden');
                elements.userInfo.classList.remove('flex');
                elements.signInBtn.classList.remove('hidden');
            }
        });

        // Create/Update User Document in Firestore
        async function createUserDocument(user) {
            const userRef = doc(db, 'users', user.uid);
            const userSnap = await getDoc(userRef);
            
            if (!userSnap.exists()) {
                await setDoc(userRef, {
                    email: user.email,
                    displayName: user.displayName || user.email.split('@')[0],
                    photoURL: user.photoURL || '',
                    createdAt: serverTimestamp(),
                    lastLogin: serverTimestamp()
                });
            } else {
                await updateDoc(userRef, {
                    lastLogin: serverTimestamp()
                });
            }
        }

        // Show/Hide Modal Forms
        function showAuthModal() {
            elements.authModal.classList.remove('hidden');
        }

        function hideAuthModal() {
            elements.authModal.classList.add('hidden');
            showSignInFormView();
        }

        function showSignInFormView() {
            elements.signInForm.classList.remove('hidden');
            elements.signUpForm.classList.add('hidden');
            elements.forgotPasswordForm.classList.add('hidden');
        }

        function showSignUpFormView() {
            elements.signInForm.classList.add('hidden');
            elements.signUpForm.classList.remove('hidden');
            elements.forgotPasswordForm.classList.add('hidden');
        }

        function showForgotPasswordFormView() {
            elements.signInForm.classList.add('hidden');
            elements.signUpForm.classList.add('hidden');
            elements.forgotPasswordForm.classList.remove('hidden');
        }

        // Authentication Functions
        async function signInWithGoogle() {
            try {
                const result = await signInWithPopup(auth, provider);
                console.log('Signed in:', result.user.email);
                hideAuthModal();
            } catch (error) {
                console.error('Error signing in:', error);
                alert('Sign in failed. Please try again.');
            }
        }

        async function signInWithEmail() {
            const email = document.getElementById('signInEmail').value;
            const password = document.getElementById('signInPassword').value;

            if (!email || !password) {
                alert('Please enter both email and password');
                return;
            }

            try {
                await signInWithEmailAndPassword(auth, email, password);
                hideAuthModal();
            } catch (error) {
                console.error('Error signing in:', error);
                if (error.code === 'auth/user-not-found') {
                    alert('No account found with this email. Please sign up first.');
                } else if (error.code === 'auth/wrong-password') {
                    alert('Incorrect password. Please try again.');
                } else if (error.code === 'auth/invalid-email') {
                    alert('Invalid email address.');
                } else {
                    alert('Sign in failed: ' + error.message);
                }
            }
        }

        async function signUpWithEmail() {
            const name = document.getElementById('signUpName').value;
            const email = document.getElementById('signUpEmail').value;
            const password = document.getElementById('signUpPassword').value;
            const agreeToTerms = document.getElementById('agreeToTerms').checked;

            if (!name || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            if (!agreeToTerms) {
                alert('You must agree to the Terms of Service and Privacy Policy to create an account');
                return;
            }

            if (password.length < 6) {
                alert('Password must be at least 6 characters long');
                return;
            }

            try {
                const result = await createUserWithEmailAndPassword(auth, email, password);
                await updateProfile(result.user, { displayName: name });
                hideAuthModal();
            } catch (error) {
                console.error('Error signing up:', error);
                if (error.code === 'auth/email-already-in-use') {
                    alert('This email is already registered. Please sign in instead.');
                } else if (error.code === 'auth/invalid-email') {
                    alert('Invalid email address.');
                } else if (error.code === 'auth/weak-password') {
                    alert('Password is too weak. Please use a stronger password.');
                } else {
                    alert('Sign up failed: ' + error.message);
                }
            }
        }

        async function resetPassword() {
            const email = document.getElementById('resetEmail').value;

            if (!email) {
                alert('Please enter your email address');
                return;
            }

            try {
                await sendPasswordResetEmail(auth, email);
                alert('Password reset email sent! Please check your inbox.');
                showSignInFormView();
            } catch (error) {
                console.error('Error sending reset email:', error);
                if (error.code === 'auth/user-not-found') {
                    alert('No account found with this email.');
                } else if (error.code === 'auth/invalid-email') {
                    alert('Invalid email address.');
                } else {
                    alert('Failed to send reset email: ' + error.message);
                }
            }
        }

        function signOutUser() {
            signOut(auth)
                .then(() => {
                    console.log('User signed out');
                    showSection('home');
                })
                .catch((error) => {
                    console.error('Error signing out:', error);
                });
        }

        // Save Practice Attempt to Firestore
        async function savePracticeAttempt(subject, score, totalQuestions) {
            if (!currentUser) return;

            try {
                const attemptRef = collection(db, 'users', currentUser.uid, 'practiceAttempts');
                await setDoc(doc(attemptRef), {
                    subject: subject,
                    score: score,
                    totalQuestions: totalQuestions,
                    percentage: Math.round((score / totalQuestions) * 100),
                    timestamp: serverTimestamp()
                });
            } catch (error) {
                console.error('Error saving practice attempt:', error);
            }
        }

        // Save Exam Attempt to Firestore
        async function saveExamAttempt(score, subjects) {
            if (!currentUser) return;

            try {
                const attemptRef = collection(db, 'users', currentUser.uid, 'examAttempts');
                await setDoc(doc(attemptRef), {
                    score: score,
                    totalScore: 400,
                    subjects: subjects,
                    timestamp: serverTimestamp()
                });
            } catch (error) {
                console.error('Error saving exam attempt:', error);
            }
        }

        // Load Analytics
        async function loadAnalytics() {
            if (!currentUser) {
                elements.analyticsSignInRequired.classList.remove('hidden');
                elements.analyticsContent.classList.add('hidden');
                elements.analyticsEmpty.classList.add('hidden');
                elements.analyticsLoading.classList.add('hidden');
                return;
            }

            elements.analyticsSignInRequired.classList.add('hidden');
            elements.analyticsLoading.classList.remove('hidden');
            elements.analyticsContent.classList.add('hidden');
            elements.analyticsEmpty.classList.add('hidden');

            try {
                // Fetch exam attempts
                const attemptsRef = collection(db, 'users', currentUser.uid, 'examAttempts');
                const q = query(attemptsRef, orderBy('timestamp', 'desc'), limit(10));
                const querySnapshot = await getDocs(q);

                if (querySnapshot.empty) {
                    elements.analyticsLoading.classList.add('hidden');
                    elements.analyticsEmpty.classList.remove('hidden');
                    return;
                }

                // Calculate statistics
                let totalExams = 0;
                let totalScore = 0;
                let bestScore = 0;
                const attempts = [];

                querySnapshot.forEach((doc) => {
                    const data = doc.data();
                    totalExams++;
                    totalScore += data.score;
                    if (data.score > bestScore) bestScore = data.score;
                    attempts.push({
                        id: doc.id,
                        ...data
                    });
                });

                const averageScore = Math.round(totalScore / totalExams);

                // Update stats
                document.getElementById('totalExams').textContent = totalExams;
                document.getElementById('averageScore').textContent = averageScore;
                document.getElementById('bestScore').textContent = bestScore;

                // Display recent attempts
                const recentAttemptsContainer = document.getElementById('recentAttempts');
                recentAttemptsContainer.innerHTML = '';

                attempts.forEach((attempt) => {
                    const date = attempt.timestamp ? new Date(attempt.timestamp.toDate()).toLocaleDateString('en-NG', {
                        year: 'numeric',
                        month: 'short',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    }) : 'Recent';

                    const percentage = Math.round((attempt.score / attempt.totalScore) * 100);
                    const scoreColor = percentage >= 70 ? 'text-green-600' : percentage >= 50 ? 'text-yellow-600' : 'text-red-600';

                    const attemptHTML = `
                        <div class="p-6 hover:bg-gray-50 transition-colors">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h4 class="font-semibold text-gray-900">Mock Exam</h4>
                                    <p class="text-sm text-gray-500">${date}</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-2xl font-bold ${scoreColor}">${attempt.score}/400</p>
                                    <p class="text-sm text-gray-500">${percentage}%</p>
                                </div>
                            </div>
                        </div>
                    `;
                    recentAttemptsContainer.innerHTML += attemptHTML;
                });

                elements.analyticsLoading.classList.add('hidden');
                elements.analyticsContent.classList.remove('hidden');

            } catch (error) {
                console.error('Error loading analytics:', error);
                elements.analyticsLoading.classList.add('hidden');
                alert('Failed to load analytics. Please try again.');
            }
        }

        // Section Navigation
        function showSection(sectionName) {
            Object.values(sections).forEach(section => {
                if (section) section.classList.add('hidden');
            });
            if (sections[sectionName]) {
                sections[sectionName].classList.remove('hidden');
            }

            // Load analytics when showing that section
            if (sectionName === 'analytics') {
                loadAnalytics();
            }
        }

        // Practice Mode Functions
        function selectSubject(subject) {
            currentSubject = subject;
            const subjectNames = {
                'english': 'Use of English',
                'mathematics': 'Mathematics',
                'physics': 'Physics',
                'chemistry': 'Chemistry',
                'biology': 'Biology',
                'government': 'Government'
            };
            elements.currentSubject.textContent = subjectNames[subject] + ' Practice';
            elements.subjectSelection.classList.add('hidden');
            elements.practiceQuestions.classList.remove('hidden');
            currentQuestion = 1;
            updatePracticeProgress();
        }

        function updatePracticeProgress() {
            const progress = Math.round((currentQuestion / totalQuestions) * 100);
            elements.currentQuestionNum.textContent = currentQuestion;
            elements.practiceProgress.textContent = progress + '%';
            elements.practiceProgressBar.style.width = progress + '%';
        }

        function submitAnswer() {
            const selectedAnswer = document.querySelector('input[name="answer"]:checked');
            if (selectedAnswer) {
                elements.answerExplanation.classList.remove('hidden');
            } else {
                alert('Please select an answer before submitting.');
            }
        }

        function nextQuestion() {
            if (currentQuestion < totalQuestions) {
                currentQuestion++;
                updatePracticeProgress();
                elements.answerExplanation.classList.add('hidden');
                const radioButtons = document.querySelectorAll('input[name="answer"]');
                radioButtons.forEach(radio => radio.checked = false);
            }
        }

        function previousQuestion() {
            if (currentQuestion > 1) {
                currentQuestion--;
                updatePracticeProgress();
                elements.answerExplanation.classList.add('hidden');
            }
        }

        function startPracticeMode() {
            window.location.href = 'practice-mode-subjects.html';
        }

        function startExamMode() {
            window.location.href = 'exam-payment.html';
        }

        function startExamTimer() {
            const timerInterval = setInterval(() => {
                if (examTimeRemaining <= 0) {
                    clearInterval(timerInterval);
                    alert('Time up! Exam submitted automatically.');
                    return;
                }
                examTimeRemaining--;
                updateTimerDisplay();
            }, 1000);
        }

        function updateTimerDisplay() {
            const hours = Math.floor(examTimeRemaining / 3600);
            const minutes = Math.floor((examTimeRemaining % 3600) / 60);
            const seconds = examTimeRemaining % 60;
            const timeString = String(hours).padStart(2, '0') + ':' + 
                             String(minutes).padStart(2, '0') + ':' + 
                             String(seconds).padStart(2, '0');
            elements.examTimer.textContent = timeString;
        }

        // Event Listeners
        elements.signInBtn.addEventListener('click', showAuthModal);
        elements.signOutBtn.addEventListener('click', signOutUser);
        elements.googleSignIn.addEventListener('click', signInWithGoogle);
        elements.googleSignUpBtn.addEventListener('click', signInWithGoogle);
        elements.emailSignInBtn.addEventListener('click', signInWithEmail);
        elements.emailSignUpBtn.addEventListener('click', signUpWithEmail);
        elements.sendResetEmailBtn.addEventListener('click', resetPassword);
        elements.closeAuthModal.addEventListener('click', hideAuthModal);
        elements.showSignUpForm.addEventListener('click', showSignUpFormView);
        elements.showSignInForm.addEventListener('click', showSignInFormView);
        elements.forgotPasswordLink.addEventListener('click', showForgotPasswordFormView);
        elements.backToSignIn.addEventListener('click', showSignInFormView);

        document.getElementById('start-practice').addEventListener('click', startPracticeMode);
        document.getElementById('take-mock-exam').addEventListener('click', startExamMode);
        document.getElementById('startPracticeBtn').addEventListener('click', startPracticeMode);
        document.getElementById('startExamBtn').addEventListener('click', startExamMode);
        document.getElementById('examSignIn').addEventListener('click', showAuthModal);
        document.getElementById('analyticsSignIn').addEventListener('click', showAuthModal);
        document.getElementById('startFirstExam')?.addEventListener('click', startExamMode);

        document.querySelectorAll('.subject-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const subject = e.currentTarget.dataset.subject;
                selectSubject(subject);
            });
        });

        document.getElementById('submitAnswer').addEventListener('click', submitAnswer);
        document.getElementById('nextQuestion').addEventListener('click', nextQuestion);
        document.getElementById('prevQuestion').addEventListener('click', previousQuestion);
        document.getElementById('exitPractice').addEventListener('click', () => {
            showSection('dashboard');
            currentQuestion = 1;
        });

        elements.authModal.addEventListener('click', (e) => {
            if (e.target === elements.authModal) {
                hideAuthModal();
            }
        });

        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        if (mobileMenuBtn && mobileMenu) {
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            // Close mobile menu when clicking any link
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });
        }

        // Navigation Links
        document.querySelectorAll('nav a[href^="#"]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetSection = e.target.getAttribute('href').substring(1);
                if (targetSection === 'practice') {
                    startPracticeMode();
                } else if (targetSection === 'exam') {
                    startExamMode();
                } else if (targetSection === 'analytics') {
                    if (currentUser) {
                        showSection('analytics');
                    } else {
                        showAuthModal();
                    }
                } else if (sections[targetSection]) {
                    showSection(targetSection);
                }
            });
        });

        // Initialize
        showSection('home');
        updateTimerDisplay();
    </script>
</body>
</html>
